<div class="bulk-form-container">
    <!-- Common Fields Section -->
    <div class="common-fields-section">
        <h4>üìã Th√¥ng tin chung</h4>
        
        <div class="form-group">
            <label class="form-label">Kho ƒëi:</label>
            <div class="input-with-refresh">
                <div>
                    {% set name = "from_depot" %}
                    {% include "components/dropdowns/depot.html" %}
                </div>
                <button type="button" class="btn btn-primary form-btn-refresh" 
                        hx-post="/refresh/depots" 
                        hx-target=".refresh-status-container">
                    <span class="btn-text">üîÑ L√†m m·ªõi</span>
                    <span class="htmx-indicator spinner"></span>
                </button>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Kho ƒë·∫øn:</label>
            {% set name = "to_depot" %}
            {% include "components/dropdowns/depot.html" %}
        </div>

        <div class="form-group">
            <label class="form-label">Ng∆∞·ªùi b√†n giao:</label>
            <div class="input-with-refresh">
                <div>
                    {% set name = "handover_person" %}
                    {% include "components/dropdowns/employee.html" %}
                </div>
                <button type="button" class="btn btn-primary form-btn-refresh" 
                        hx-post="/refresh/employees" 
                        hx-target=".refresh-status-container">
                    <span class="btn-text">üîÑ L√†m m·ªõi</span>
                    <span class="htmx-indicator spinner"></span>
                </button>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">ƒê∆°n v·ªã v·∫≠n chuy·ªÉn:</label>
            <div class="input-with-refresh">
                <div>
                    {% set name = "transport_provider" %}
                    {% include "components/dropdowns/transport.html" %}
                </div>
                <button type="button" class="btn btn-primary form-btn-refresh-transport" 
                        hx-post="/refresh/transport-providers" 
                        hx-target=".refresh-status-container">
                    <span class="btn-text">üîÑ L√†m m·ªõi</span>
                    <span class="htmx-indicator spinner"></span>
                </button>
            </div>
        </div>
        
        <div class="refresh-status-container"></div>
    </div>

    <!-- Bill IDs Section -->
    <div class="bill-ids-section">
        <h4>üì¶ Danh s√°ch Bill ID</h4>
        
        <!-- ‚úÖ B·ªé: table-actions v·ªõi n√∫t "Ki·ªÉm tra t·∫•t c·∫£" -->
        
        <table class="bill-table" id="billTable">
            <thead>
                <tr>
                    <th>Bill ID</th>
                    <th>S·ªë l∆∞·ª£ng bao/t·∫£i</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>X√≥a</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be added dynamically -->
            </tbody>
        </table>
        
        <!-- ‚úÖ S·ª¨A: Di chuy·ªÉn n√∫t "Th√™m d√≤ng" xu·ªëng d∆∞·ªõi b·∫£ng -->
        <div class="table-actions" style="margin-top: 16px;">
            <button type="button" class="btn btn-success btn-small" onclick="addBillRow()">
                ‚ûï Th√™m d√≤ng
            </button>
        </div>
    </div>

    <div class="form-actions">
        <button type="button" class="btn btn-success" id="submitBtn" onclick="submitBulkForm()">
            <span class="btn-text">üíæ T·∫°o t·∫•t c·∫£ b·∫£n ghi</span>
            <span class="htmx-indicator spinner"></span>
        </button>
    </div>

    <div id="bulk-result-container"></div>
</div>

<script>
// Add initial row when page loads
document.addEventListener('DOMContentLoaded', () => {
    addBillRow();
});
</script>
